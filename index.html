<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Startup Page</title>
  <link rel="stylesheet" href="./style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.cdnfonts.com/css/gistesy" rel="stylesheet">
</head>
<body>
<div class="container">
  <div class="left-section">
    <div class="greeting-section">
      <h1 id="greeting">Good morning</h1>
      <div class="date" id="current-date">Monday, March 6</div>
    </div>

    <div class="search-section">
      <div class="search-container">
        <div class="search-engine-select">
          <button id="search-engine-btn" class="search-engine-btn">
            <img id="search-engine-icon" src="https://www.google.com/favicon.ico" alt="Search Engine" width="24" height="24">
            <span class="arrow-down">▼</span>
          </button>
          <div class="search-engine-dropdown">
            <div class="search-engine-option" data-engine="google" data-icon="https://www.google.com/favicon.ico" data-url="https://www.google.com/search?q=">
              <img src="https://www.google.com/favicon.ico" alt="Google" width="24" height="24">
              <span>Google</span>
            </div>
            <div class="search-engine-option" data-engine="bing" data-icon="https://www.bing.com/favicon.ico" data-url="https://www.bing.com/search?q=">
              <img src="https://www.bing.com/favicon.ico" alt="Bing" width="24" height="24">
              <span>Bing</span>
            </div>
            <div class="search-engine-option" data-engine="duckduckgo" data-icon="https://duckduckgo.com/favicon.ico" data-url="https://duckduckgo.com/?q=">
              <img src="https://duckduckgo.com/favicon.ico" alt="DuckDuckGo" width="24" height="24">
              <span>DuckDuckGo</span>
            </div>
            <div class="search-engine-option" data-engine="chatgpt" data-icon="https://chat.openai.com/favicon.ico" data-url="https://chat.openai.com/?q=">
              <img src="https://chat.openai.com/favicon.ico" alt="ChatGPT" width="24" height="24">
              <span>ChatGPT</span>
            </div>
          </div>
        </div>
        <input type="text" id="search-input" placeholder="Type anything and press Enter to search...">
        <button id="search-button">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 21L16.65 16.65M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>

    <div class="quick-links">
      <h3>Quick Links</h3>
      <div class="links-grid">
        <a href="https://youtube.com" class="quick-link" title="Go to YouTube">
          <img src="https://www.youtube.com/favicon.ico" alt="YouTube">
          <span class="link-tooltip">YouTube</span>
        </a>
        <a href="https://gmail.com" class="quick-link" title="Go to Gmail">
          <img src="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico" alt="Gmail">
          <span class="link-tooltip">Gmail</span>
        </a>
        <a href="https://medium.com" class="quick-link" title="Go to Medium">
          <img src="https://iili.io/3qfku2I.png" alt="Medium">
          <span class="link-tooltip">Medium</span>
        </a>
        <a href="https://github.com" class="quick-link" title="Go to GitHub">
          <img src="https://iili.io/3qfvUP4.png" alt="GitHub">
          <span class="link-tooltip">GitHub</span>
        </a>
        <a href="https://notion.so" class="quick-link" title="Go to Notion">
          <img src="https://www.notion.so/images/favicon.ico" alt="Notion">
          <span class="link-tooltip">Notion</span>
        </a>
        <a href="https://calendar.google.com" class="quick-link" title="Go to Calendar">
          <img src="https://calendar.google.com/googlecalendar/images/favicon_v2018_256.png" alt="Calendar">
          <span class="link-tooltip">Calendar</span>
        </a>
      </div>
    </div>

    <div class="quote-section">
      <blockquote id="daily-quote">
        <p class="quote-text">Loading quote...</p>
        <footer class="quote-author">- Author</footer>
      </blockquote>
    </div>
   
    <div class="goal-section">
      <div class="goal-header">
          <h3>Today's Goal :</h3>
      </div>
      <div class="goal-content">
          <input type="text" class="goal-input" placeholder="Write your goal here...">
      </div>
    </div>

    <div class="finance-section">
      <div class="balance-card">
        <div class="balance-header">
          <h3>Current Bank Balance</h3>
          <button id="edit-balance" class="edit-btn">Edit</button>
        </div>
        <div class="balance-amount" contenteditable="true" id="balance-amount">₹0.00</div>
        <div class="last-updated" id="last-updated">Last updated: Never</div>
      </div>
    </div>
  </div>

  <div class="right-section">
    <!-- Clock section -->
    <div class="clock-container">
      <div class="clock-title">
        <span class="title-text">Time Left</span>
      </div>
      <div class="clock-overlay">
        <img src="https://iili.io/3qfPju2.png" alt="Clock Overlay">
      </div>
      <div class="clock" data-date="2024-12-25">
        <div>
          <div data-clock="years" data-numbers="101" class="clock-face"></div>
        </div>
        <div>
          <div data-clock="seconds" data-numbers="60" class="clock-face"></div>
        </div>
        <div>
          <div data-clock="minutes" data-numbers="60" class="clock-face"></div>
        </div>
        <div>
          <div data-clock="hours" data-numbers="24" class="clock-face"></div>
        </div>
        <div>
          <div data-clock="days" data-numbers="31" class="clock-face"></div>
        </div>
        <div>
          <div data-clock="months" data-numbers="12" class="clock-face"></div>
        </div>
        <div>
          <div data-clock="day-names" data-numbers="7" class="clock-face"></div>
        </div>
        <button type="button" id="current-lang" class="current-lang-display">en</button>
      </div>
      <div id="countdown-timer" class="countdown-timer"></div>
    </div>
  </div>
</div>

<dialog id="language-dialog">
  <button type="button" id="btn-dialog-close" class="btn-dialog-close" autofocus>&#10005;</button>
  <div id="language-options" class="language-options"></div>
</dialog>

<dialog id="death-year-dialog">
  <button type="button" id="btn-death-dialog-close" class="btn-dialog-close" autofocus>&#10005;</button>
  <div class="death-year-input-container">
    <h2>Enter Your Expected Time To Achive</h2>
    <!-- <input type="number" id="death-year" placeholder="Enter time"> -->
    <input type="text" id="death-year" placeholder="Enter Date (DD-MM-YYYY)">

    <button type="button" id="submit-death-year">Submit</button>
  </div>
</dialog>

<div class="sound-control">
  <audio id="tick-sound" loop>
    <source src="./sounds/ticking.mp3" type="audio/mpeg">
  </audio>
  <button id="sound-toggle" class="sound-toggle">
    <svg class="sound-on" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11 5L6 9H2V15H6L11 19V5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 12C17.0039 13.3308 16.4774 14.6024 15.54 15.54" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M19.07 4.93C20.9447 6.80527 21.9979 9.34835 21.9979 12C21.9979 14.6516 20.9447 17.1947 19.07 19.07" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <svg class="sound-off" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11 5L6 9H2V15H6L11 19V5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M23 9L17 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M17 9L23 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
</div>

<script src="./script.js"></script>
<script>

const dateInput = document.querySelector('#dateInput');

// Add event listener to handle date input
dateInput.addEventListener('input', (e) => {
    const userInput = e.target.value.trim();

    // Validate and parse the input in the "dd-mm-yyyy" format
    if (isValidDate(userInput)) {
        const userDate = parseDate(userInput);
        const currentDate = new Date();
        
        // Calculate the difference between the current date and user-provided date
        const diffInDays = calculateDateDifference(currentDate, userDate);
        
        // Update the display with the result
        displayDateDifference(diffInDays);
    }
});

// Function to check if the input is a valid date in "dd-mm-yyyy" format
function isValidDate(dateString) {
    const regex = /^\d{2}-\d{2}-\d{4}$/;
    return regex.test(dateString);
}

// Function to parse the input string into a Date object
function parseDate(dateString) {
    const [day, month, year] = dateString.split('-').map(num => parseInt(num, 10));
    // Create a new Date object (months are 0-indexed in JS)
    return new Date(year, month - 1, day);
}

// Function to calculate the difference in days between two dates
function calculateDateDifference(currentDate, userDate) {
    const msInOneDay = 1000 * 60 * 60 * 24;  // milliseconds in one day
    const timeDiff = currentDate - userDate;  // difference in milliseconds
    return Math.floor(timeDiff / msInOneDay);  // convert to days
}

// Function to display the date difference
function displayDateDifference(diffInDays) {
    const dateDifferenceDisplay = document.querySelector('.date-difference-display');
    if (!dateDifferenceDisplay) {
        const newElement = document.createElement('div');
        newElement.classList.add('date-difference-display');
        document.body.appendChild(newElement);
    }
    
    const message = `The difference is ${diffInDays} days`;
    document.querySelector('.date-difference-display').textContent = message;
}

  </script>
</body>
</html>
